Market Game
===========

Rules
-----

This is a game for many simultaneous players in competition with each other.
This game is a simple economic simulation where players will produce a raw good (wheat), transform it (into flour) and sell the final product to consumers. Alternatively, they can seek profit by selling wheat or flour to each other.

Possible actions :
    - put an offer (buy or sell X volume at Y price) on a market
    - buy a farm
    - sell a farm
    - buy a warehouse
    - sell a warehouse
    - buy a mill
    - sell a mill
    - transform X tons of wheat into flour 

Each turn, every agent put its orders that are then executed simultaneously. If two identical orders are put on a market, they are served in a random order.

There are two markets : the flour market and the wheat market. 

Each turn, consumers are simulated by buying N tons of flour on the flour market, at the lowest prices available. They will buy less if the total volume on the market is unsufficient. Players can only sell on this market.

On the wheat market, only players buy and sell. Players put offers on the market, announcing a quantity and a desired price. Each turn, offers are matched, starting with lowest selling prices and the highest buying prices. If the buying price is higer than the selling price, the offers are matched. If the quantity sold exceed the quantity bought, the transaction is made at the price of the buyer and vice versa. In case of draw, an average is made. The completed offer is removed and the process reiterated until no two offers match.

Every 100 turns, farms produce wheat. 
Every turn mills turn a quantity of wheat into flour.
Farms, mills, warehouses are sold instantaneously at a set price.

The game is information complete : each player knows all the offers on the market, the stocks of all the other players, their quantity of farms, warehouses and mills and their quantity of cash.

In order to prevent "last turn" strategies, the number of rounds is kept secret and is determined randomly at the beginning of the game. It is between 2000 and 5000 

Protocol
--------

To be finished
JSON for world state ?
for actions also ?



